<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mstdlib-1.21.0: Start a process and perform I/O using stdin, stdout, and stderr</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mstdlib-1.21.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__m__io__process.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Start a process and perform I/O using stdin, stdout, and stderr<div class="ingroups"><a class="el" href="group__m__eventio.html">Event Based I/O Subsystem</a> &raquo; <a class="el" href="group__m__eventio__base.html">Base I/O subsystems</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad59fe46ebd3f48957ea2d5163f97c476"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__io.html#ga2d3bea9aaa4491c3c8dad94cf24498a2">M_io_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__io__process.html#gad59fe46ebd3f48957ea2d5163f97c476">M_io_process_create</a> (const char *command, <a class="el" href="group__m__list__str.html#ga6de38b5604cb0dee336dccb52b5ae077">M_list_str_t</a> *args, <a class="el" href="group__m__hash__dict.html#ga01ab9873e5c24644b27b099a032bea00">M_hash_dict_t</a> *env, M_uint64 timeout_ms, <a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> **proc, <a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> **proc_stdin, <a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> **proc_stdout, <a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> **proc_stderr)</td></tr>
<tr class="separator:gad59fe46ebd3f48957ea2d5163f97c476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8106b8db09d0db068f7023829466983e"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__io__process.html#ga8106b8db09d0db068f7023829466983e">M_io_process_get_result_code</a> (<a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> *proc, int *result_code)</td></tr>
<tr class="separator:ga8106b8db09d0db068f7023829466983e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed22e075b2fcd50f15690363912052f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__io__process.html#gaed22e075b2fcd50f15690363912052f2">M_io_process_get_pid</a> (<a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> *proc)</td></tr>
<tr class="separator:gaed22e075b2fcd50f15690363912052f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A process starts an executable and opens the processes communication endpoints of stdin, stdout, and stderr as unidirectional pipes for communicating with the process. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad59fe46ebd3f48957ea2d5163f97c476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad59fe46ebd3f48957ea2d5163f97c476">&#9670;&nbsp;</a></span>M_io_process_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__io.html#ga2d3bea9aaa4491c3c8dad94cf24498a2">M_io_error_t</a> M_io_process_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__list__str.html#ga6de38b5604cb0dee336dccb52b5ae077">M_list_str_t</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__hash__dict.html#ga01ab9873e5c24644b27b099a032bea00">M_hash_dict_t</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> **&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> **&#160;</td>
          <td class="paramname"><em>proc_stdin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> **&#160;</td>
          <td class="paramname"><em>proc_stdout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> **&#160;</td>
          <td class="paramname"><em>proc_stderr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a process and return IO handles for the process itself as well as unidirectional pipes for stdin, stdout, and stderr.</p>
<p>Validation will be performed on the command upon calling this function, but the process will not actually be started until the 'proc' returned value is associated with an event loop. It is possible that the process may fail to start due to system resource limitations or missing validations for system ACLs; an ERROR event will be delivered in such a case. Otherwise if the process is started successfully, a DISCONNECT will be triggered on exit regardless of the process exit code (unless the specified timeout is exceeded, then an ERROR) event will be triggered.</p>
<p>NOTE: If using stdin to pass data to the command, stdin MUST be closed once done to notify the remote process there is no more data or the process may hang indefinitely.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">command</td><td>Required. Command to execute. If an absolute path or relative path is not provided, will search the PATH environment variable, which can be overwritten in the 'env' parameter and honored. On Windows, the current working directory is also scanned as is common practice (but not on any other OS). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">args</td><td>Optional. List of arguments to pass to command. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>Optional. List of environment variables to pass on to process. Use NULL to pass current environment through. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>Optional. Maximum execution time of the process before it is forcibly terminated. Use 0 for infinite. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">proc</td><td>Required. The io object handle for the process itself. Used to notify when the process has exited, or request termination of process. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">proc_stdin</td><td>Optional. The io object handle for the write-only stdin process handle. If NULL is passed, will close handle to process. The stdin endpoint will not be notified when the process closes so it must be tracked and closed when the process exits by the caller. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">proc_stdout</td><td>Optional. The io object handle for the read-only stdout process handle. If NULL is passed, will close handle to process. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">proc_stderr</td><td>Optional. The io object handle for the read-only stderr process handle. If NULL is passed, will close handle to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_IO_ERROR_SUCCESS on SUCCESS. Otherwise, M_IO_ERROR_INVALID on misuse, M_IO_ERROR_NOTFOUND if specified executable not found, M_IO_ERROR_NOTPERM if execution not permitted. </dd></dl>

</div>
</div>
<a id="ga8106b8db09d0db068f7023829466983e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8106b8db09d0db068f7023829466983e">&#9670;&nbsp;</a></span>M_io_process_get_result_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_io_process_get_result_code </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> *&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>result_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the result code of the process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">proc</td><td>Proc IO object returned from <a class="el" href="group__m__io__process.html#gad59fe46ebd3f48957ea2d5163f97c476">M_io_process_create()</a>; </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result_code</td><td>Exit code returned from process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if process exited with a return code. M_FALSE if invalid request due to process state or other error. </dd></dl>

</div>
</div>
<a id="gaed22e075b2fcd50f15690363912052f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed22e075b2fcd50f15690363912052f2">&#9670;&nbsp;</a></span>M_io_process_get_pid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int M_io_process_get_pid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the OS Process ID of the process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">proc</td><td>Proc IO object returned from <a class="el" href="group__m__io__process.html#gad59fe46ebd3f48957ea2d5163f97c476">M_io_process_create()</a>; </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the process id of the process </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jul 29 2022 14:58:19 for Mstdlib-1.21.0 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
