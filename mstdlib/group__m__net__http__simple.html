<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mstdlib-1.18.0: HTTP Simple Net</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mstdlib-1.18.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__m__net__http__simple.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HTTP Simple Net<div class="ingroups"><a class="el" href="group__m__net.html">Network Protocol Operations</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga108b8f6a295f48b218f6a1b134f92f30"><td class="memItemLeft" align="right" valign="top">typedef struct M_net_http_simple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a></td></tr>
<tr class="separator:ga108b8f6a295f48b218f6a1b134f92f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2189f8d2a183deffac2a81a25dbde150"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#ga2189f8d2a183deffac2a81a25dbde150">M_net_http_simple_done_cb</a>) (<a class="el" href="group__m__net__common.html#gaa3294221a2148caa4239f649dd7962df">M_net_error_t</a> net_error, <a class="el" href="group__m__http.html#ga70262c0c0a6eb609fc7bd86797f7d4f4">M_http_error_t</a> http_error, const <a class="el" href="group__m__http__simple__read.html#ga8bac178e94ce5b0230b6321a27282442">M_http_simple_read_t</a> *simple, const char *error, void *thunk)</td></tr>
<tr class="separator:ga2189f8d2a183deffac2a81a25dbde150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafacca588ac547fbab357302d1292e895"><td class="memItemLeft" align="right" valign="top">typedef M_bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#gafacca588ac547fbab357302d1292e895">M_net_http_simple_iocreate_cb</a>) (<a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> *io, char *error, size_t errlen, void *thunk)</td></tr>
<tr class="separator:gafacca588ac547fbab357302d1292e895"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafa1b5004ed002c39ea4369688778aef4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#gafa1b5004ed002c39ea4369688778aef4">M_net_http_simple_create</a> (<a class="el" href="group__m__event.html#ga747f0301bfcc6db3b51eaf07e2582350">M_event_t</a> *el, <a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *dns, <a class="el" href="group__m__net__http__simple.html#ga2189f8d2a183deffac2a81a25dbde150">M_net_http_simple_done_cb</a> done_cb)</td></tr>
<tr class="separator:gafa1b5004ed002c39ea4369688778aef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1caac0fac3c8147d03ebcf83af812561"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#ga1caac0fac3c8147d03ebcf83af812561">M_net_http_simple_cancel</a> (<a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *hs)</td></tr>
<tr class="separator:ga1caac0fac3c8147d03ebcf83af812561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4576ad793a8de7eeb98312fd3100f5a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#ga4576ad793a8de7eeb98312fd3100f5a1">M_net_http_simple_set_timeouts</a> (<a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *hs, M_uint64 connect_ms, M_uint64 stall_ms, M_uint64 overall_ms)</td></tr>
<tr class="separator:ga4576ad793a8de7eeb98312fd3100f5a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9f786d2e4199f1de959bc3551d4ee3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#gac9f786d2e4199f1de959bc3551d4ee3e">M_net_http_simple_set_max_redirects</a> (<a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *hs, M_uint64 max)</td></tr>
<tr class="separator:gac9f786d2e4199f1de959bc3551d4ee3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa821e52cb6c48fbf19cf333ce91360f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#gaa821e52cb6c48fbf19cf333ce91360f7">M_net_http_simple_set_max_receive_size</a> (<a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *hs, M_uint64 max)</td></tr>
<tr class="separator:gaa821e52cb6c48fbf19cf333ce91360f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2122b5ca91942787dd6e52d018498abb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#ga2122b5ca91942787dd6e52d018498abb">M_net_http_simple_set_tlsctx</a> (<a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *hs, <a class="el" href="group__m__tls__funcs.html#ga926973c7a274988ccc7c65ca90cb8d6d">M_tls_clientctx_t</a> *ctx)</td></tr>
<tr class="separator:ga2122b5ca91942787dd6e52d018498abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9e369c4ba5ba633e56aaf1405168935"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#gae9e369c4ba5ba633e56aaf1405168935">M_net_http_simple_set_iocreate</a> (<a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *hs, <a class="el" href="group__m__net__http__simple.html#gafacca588ac547fbab357302d1292e895">M_net_http_simple_iocreate_cb</a> iocreate_cb)</td></tr>
<tr class="separator:gae9e369c4ba5ba633e56aaf1405168935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b1abd4f77de3b1eeca6a49f2bfe2853"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#ga1b1abd4f77de3b1eeca6a49f2bfe2853">M_net_http_simple_set_message</a> (<a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *hs, <a class="el" href="group__m__http.html#ga9009cf9cd2abe5ab4336584eebc7fcee">M_http_method_t</a> method, const char *user_agent, const char *content_type, const char *charset, const <a class="el" href="group__m__hash__dict.html#ga01ab9873e5c24644b27b099a032bea00">M_hash_dict_t</a> *headers, const unsigned char *message, size_t message_len)</td></tr>
<tr class="separator:ga1b1abd4f77de3b1eeca6a49f2bfe2853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09b0608211b8b26ac4d04545c47f340b"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__net__http__simple.html#ga09b0608211b8b26ac4d04545c47f340b">M_net_http_simple_send</a> (<a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *hs, const char *url, void *thunk) M_WARN_UNUSED_RESULT</td></tr>
<tr class="separator:ga09b0608211b8b26ac4d04545c47f340b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Simple HTTP network interface</p>
<p>Allows for sending a request to a remote system and receiving a response. The response will be delivered as an M_http_simple_read_t via a callback.</p>
<p>Redirects, and TLS upgrade/downgrades are handled internally by the module.</p>
<p>Redirects have a default limit of 16 but this can be changed. It is imperative that the limit never be disabled or be set excessively large. Loop tracking is not supported and exiting redirect loops is handled by the redirect limit.</p>
<p>Since this buffers data in memory the maximum received data size can be configured to prevent running out of memory. The default if not set is 50 MB.</p>
<p>By default there is no timeout waiting for the operation to complete. It will wait indefinitely unless timeouts are explicitly set.</p>
<p>Each instance of an M_net_http_simple_t can only be used once. Upon completion or cancel the object is internally destroyed and all references are invalidated.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;mstdlib/mstdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;mstdlib/mstdlib_io.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;mstdlib/mstdlib_net.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;mstdlib/mstdlib_formats.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__m__event.html#ga747f0301bfcc6db3b51eaf07e2582350">M_event_t</a> *el;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> done_cb(<a class="code" href="group__m__net__common.html#gaa3294221a2148caa4239f649dd7962df">M_net_error_t</a> net_error, <a class="code" href="group__m__http.html#ga70262c0c0a6eb609fc7bd86797f7d4f4">M_http_error_t</a> http_error, <span class="keyword">const</span> <a class="code" href="group__m__http__simple__read.html#ga8bac178e94ce5b0230b6321a27282442">M_http_simple_read_t</a> *simple, <span class="keyword">const</span> <span class="keywordtype">char</span> *error, <span class="keywordtype">void</span> *thunk)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__m__hash__dict.html#ga01ab9873e5c24644b27b099a032bea00">M_hash_dict_t</a>       *headers;</div>
<div class="line">    <a class="code" href="group__m__hash__dict.html#gab143ed3e4427ecff40710f467a90ae3f">M_hash_dict_enum_t</a>  *he;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>          *key;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>          *val;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data;</div>
<div class="line">    <span class="keywordtype">size_t</span>               len;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (net_error != <a class="code" href="group__m__net__common.html#ggaa3294221a2148caa4239f649dd7962dfa5168d726e175f2aaa681774cd9365b01">M_NET_ERROR_SUCCESS</a>) {</div>
<div class="line">        <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;Ner Error: %s: %s\n&quot;</span>, <a class="code" href="group__m__net__common.html#gab235bdf1e3f78678f2548d001473bb7b">M_net_errcode_to_str</a>(net_error), error);</div>
<div class="line">        <a class="code" href="group__m__event.html#ga91277642f8c76eb816003d2cea649897">M_event_done</a>(el);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (http_error != <a class="code" href="group__m__http.html#gga70262c0c0a6eb609fc7bd86797f7d4f4ac34d4a660bec76a92faa5f27edb11a53">M_HTTP_ERROR_SUCCESS</a>) {</div>
<div class="line">        <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;HTTP Error: %s: %s\n&quot;</span>, <a class="code" href="group__m__http.html#ga47c67c1475c6cdaf99d2df70c4925e6f">M_http_errcode_to_str</a>(http_error), error);</div>
<div class="line">        <a class="code" href="group__m__event.html#ga91277642f8c76eb816003d2cea649897">M_event_done</a>(el);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;---\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;Status code: %u - %s\n&quot;</span>, <a class="code" href="group__m__http__simple__read.html#gaaeeb8386251cd3104be32fd36e6a747d">M_http_simple_read_status_code</a>(simple), <a class="code" href="group__m__http__simple__read.html#ga87680370989eae646ad55d4f945f424d">M_http_simple_read_reason_phrase</a>(simple));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;---\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;Headers:\n&quot;</span>);</div>
<div class="line">    headers = <a class="code" href="group__m__http__simple__read.html#ga57dfa1f2e40cfc3fb56d5e4119c96133">M_http_simple_read_headers_dict</a>(simple);</div>
<div class="line">    <a class="code" href="group__m__hash__dict.html#ga6ac0a0649bc07e3c7f2754a66abe4a58">M_hash_dict_enumerate</a>(headers, &amp;he);</div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code" href="group__m__hash__dict.html#ga8aa61ab5f78bccca6351ff26bc5029f3">M_hash_dict_enumerate_next</a>(headers, he, &amp;key, &amp;val)) {</div>
<div class="line">        <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;\t%s: %s\n&quot;</span>, key, val);</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="group__m__hash__dict.html#ga12154e881606ff70c01fa38b443602f2">M_hash_dict_enumerate_free</a>(he);</div>
<div class="line">    <a class="code" href="group__m__hash__dict.html#gaedc49aa7e8f01d9d3358f6bb169c3894">M_hash_dict_destroy</a>(headers);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;---\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;Body:\n&quot;</span>);</div>
<div class="line">    data = <a class="code" href="group__m__http__simple__read.html#ga757f218d628a72b7cff87ae04f3e0014">M_http_simple_read_body</a>(simple, &amp;len);</div>
<div class="line">    <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;%.*s\n&quot;</span>, (<span class="keywordtype">int</span>)len, data);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;---\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__event.html#ga91277642f8c76eb816003d2cea649897">M_event_done</a>(el);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> trace_cb(<span class="keywordtype">void</span> *cb_arg, <a class="code" href="group__m__io__trace.html#ga9de6468f493c8465ee53389d50c1dc87">M_io_trace_type_t</a> type, <a class="code" href="group__m__event.html#ga66b039653a61c8702310d03e6ba69802">M_event_type_t</a> event_type, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data, <span class="keywordtype">size_t</span> data_len)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *io_type = <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div>
<div class="line">    <span class="keywordtype">char</span>       *dump    = NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (type) {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="group__m__io__trace.html#gga906c49459ff07273bc2111733993ed69a08ed08ce37e683a12bf3a77dd62c468d">M_IO_TRACE_TYPE_READ</a>:</div>
<div class="line">            io_type = <span class="stringliteral">&quot;READ&quot;</span>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="group__m__io__trace.html#gga906c49459ff07273bc2111733993ed69a8156a9773735d37f3d4baf2446315f16">M_IO_TRACE_TYPE_WRITE</a>:</div>
<div class="line">            io_type = <span class="stringliteral">&quot;WRITE&quot;</span>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="group__m__io__trace.html#gga906c49459ff07273bc2111733993ed69ad2563951fa1129d3df49ed762aa95298">M_IO_TRACE_TYPE_EVENT</a>:</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    dump = <a class="code" href="group__m__str__convert.html#ga92578e5f93242d414f9042c3d23ac7cb">M_str_hexdump</a>(<a class="code" href="group__m__str__convert.html#gga91fbd8e7976f8f06d8f54048585159efaa95c86d2b7e0b61253c5f6b0c0e52c34">M_STR_HEXDUMP_NONE</a>, 0, <span class="stringliteral">&quot;\t&quot;</span>, data, data_len);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__m__str__check.html#ga530dc6e198ebf9e5c30bc7a28ea4567d">M_str_isempty</a>(dump)) {</div>
<div class="line">        <a class="code" href="group__m__mem.html#gac4b3c1d73d6efe2542f5e729b58a271d">M_free</a>(dump);</div>
<div class="line">        dump = <a class="code" href="group__m__str__dup.html#gad511c2fd84ceea2451b4c478de7d374a">M_strdup</a>(<span class="stringliteral">&quot;\t&lt;No Data&gt;&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;%s\n%s\n&quot;</span>, io_type, dump);</div>
<div class="line">    <a class="code" href="group__m__mem.html#gac4b3c1d73d6efe2542f5e729b58a271d">M_free</a>(dump);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> M_bool iocreate_cb(<a class="code" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> *io, <span class="keywordtype">char</span> *error, <span class="keywordtype">size_t</span> errlen, <span class="keywordtype">void</span> *thunk)</div>
<div class="line">{</div>
<div class="line">    (void)error;</div>
<div class="line">    (void)errlen;</div>
<div class="line">    (void)thunk;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__io__trace.html#ga3edd3da8777f275f6a3d9891650bbeda">M_io_add_trace</a>(io, NULL, trace_cb, io, NULL, NULL);</div>
<div class="line">    <span class="keywordflow">return</span> M_TRUE;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *hs;</div>
<div class="line">    <a class="code" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a>             *dns;</div>
<div class="line">    <a class="code" href="group__m__tls__funcs.html#ga926973c7a274988ccc7c65ca90cb8d6d">M_tls_clientctx_t</a>   *ctx;</div>
<div class="line"> </div>
<div class="line">    el  = <a class="code" href="group__m__event.html#gae169dca80125767d87fe196f32ea8d74">M_event_create</a>(<a class="code" href="group__m__event.html#gga72bc04891ff7b6142b7672a207ae74b1ac7efcb61cf28fa27d4a0a3daf68aaecf">M_EVENT_FLAG_NONE</a>);</div>
<div class="line">    dns = <a class="code" href="group__m__dns.html#ga5175216540121322108fc571d5206ca7">M_dns_create</a>();</div>
<div class="line"> </div>
<div class="line">    ctx = <a class="code" href="group__m__tls__funcs.html#ga466b388617ba458ea935448b1fc94276">M_tls_clientctx_create</a>();</div>
<div class="line">    <a class="code" href="group__m__tls__funcs.html#ga08e14903c8aba305505e8eed3dbcb913">M_tls_clientctx_set_default_trust</a>(ctx);</div>
<div class="line">    <span class="comment">//M_tls_clientctx_set_verify_level(ctx, M_TLS_VERIFY_NONE);</span></div>
<div class="line"> </div>
<div class="line">    hs   = <a class="code" href="group__m__net__http__simple.html#gafa1b5004ed002c39ea4369688778aef4">M_net_http_simple_create</a>(el, dns, done_cb);</div>
<div class="line">    <a class="code" href="group__m__net__http__simple.html#ga4576ad793a8de7eeb98312fd3100f5a1">M_net_http_simple_set_timeouts</a>(hs, 2000, 0, 0);</div>
<div class="line">    <a class="code" href="group__m__net__http__simple.html#ga2122b5ca91942787dd6e52d018498abb">M_net_http_simple_set_tlsctx</a>(hs, ctx);</div>
<div class="line">    <a class="code" href="group__m__net__http__simple.html#ga1b1abd4f77de3b1eeca6a49f2bfe2853">M_net_http_simple_set_message</a>(hs, <a class="code" href="group__m__http.html#gga9009cf9cd2abe5ab4336584eebc7fceead3ed73c6a24aad12bb5fa2d02dd264e9">M_HTTP_METHOD_GET</a>, NULL, <span class="stringliteral">&quot;text/plain&quot;</span>, <span class="stringliteral">&quot;utf-8&quot;</span>, NULL, NULL, 0);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__net__http__simple.html#gae9e369c4ba5ba633e56aaf1405168935">M_net_http_simple_set_iocreate</a>(hs, iocreate_cb);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__m__net__http__simple.html#ga09b0608211b8b26ac4d04545c47f340b">M_net_http_simple_send</a>(hs, <span class="stringliteral">&quot;http://google.com/&quot;</span>, NULL)) {</div>
<div class="line">        <a class="code" href="group__m__event.html#gab5e0ea9055833a684aee9587252ed5fd">M_event_loop</a>(el, M_TIMEOUT_INF);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code" href="group__m__net__http__simple.html#ga1caac0fac3c8147d03ebcf83af812561">M_net_http_simple_cancel</a>(hs);</div>
<div class="line">        <a class="code" href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a>(<span class="stringliteral">&quot;Send failed\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__m__tls__funcs.html#gaf5ee2284fcaa5f91acf06f14db32c409">M_tls_clientctx_destroy</a>(ctx);</div>
<div class="line">    <a class="code" href="group__m__dns.html#ga242ac37ba5fc0ad26dae4cc53553092a">M_dns_destroy</a>(dns);</div>
<div class="line">    <a class="code" href="group__m__event.html#ga603f06976101b21e00517deb529f86bb">M_event_destroy</a>(el);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__m__dns_html_ga242ac37ba5fc0ad26dae4cc53553092a"><div class="ttname"><a href="group__m__dns.html#ga242ac37ba5fc0ad26dae4cc53553092a">M_dns_destroy</a></div><div class="ttdeci">M_bool M_dns_destroy(M_dns_t *dns)</div></div>
<div class="ttc" id="agroup__m__dns_html_ga5175216540121322108fc571d5206ca7"><div class="ttname"><a href="group__m__dns.html#ga5175216540121322108fc571d5206ca7">M_dns_create</a></div><div class="ttdeci">M_dns_t * M_dns_create(M_event_t *event)</div></div>
<div class="ttc" id="agroup__m__dns_html_ga6d7651186321b1cc222aa53bd0fa3d22"><div class="ttname"><a href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a></div><div class="ttdeci">struct M_dns M_dns_t</div><div class="ttdef"><b>Definition:</b> m_dns.h:43</div></div>
<div class="ttc" id="agroup__m__event_html_ga603f06976101b21e00517deb529f86bb"><div class="ttname"><a href="group__m__event.html#ga603f06976101b21e00517deb529f86bb">M_event_destroy</a></div><div class="ttdeci">void M_event_destroy(M_event_t *event)</div></div>
<div class="ttc" id="agroup__m__event_html_ga66b039653a61c8702310d03e6ba69802"><div class="ttname"><a href="group__m__event.html#ga66b039653a61c8702310d03e6ba69802">M_event_type_t</a></div><div class="ttdeci">enum M_event_type M_event_type_t</div><div class="ttdef"><b>Definition:</b> m_event.h:189</div></div>
<div class="ttc" id="agroup__m__event_html_ga747f0301bfcc6db3b51eaf07e2582350"><div class="ttname"><a href="group__m__event.html#ga747f0301bfcc6db3b51eaf07e2582350">M_event_t</a></div><div class="ttdeci">struct M_event M_event_t</div><div class="ttdef"><b>Definition:</b> m_event.h:210</div></div>
<div class="ttc" id="agroup__m__event_html_ga91277642f8c76eb816003d2cea649897"><div class="ttname"><a href="group__m__event.html#ga91277642f8c76eb816003d2cea649897">M_event_done</a></div><div class="ttdeci">void M_event_done(M_event_t *event)</div></div>
<div class="ttc" id="agroup__m__event_html_gab5e0ea9055833a684aee9587252ed5fd"><div class="ttname"><a href="group__m__event.html#gab5e0ea9055833a684aee9587252ed5fd">M_event_loop</a></div><div class="ttdeci">M_event_err_t M_event_loop(M_event_t *event, M_uint64 timeout_ms)</div></div>
<div class="ttc" id="agroup__m__event_html_gae169dca80125767d87fe196f32ea8d74"><div class="ttname"><a href="group__m__event.html#gae169dca80125767d87fe196f32ea8d74">M_event_create</a></div><div class="ttdeci">M_event_t * M_event_create(M_uint32 flags)</div></div>
<div class="ttc" id="agroup__m__event_html_gga72bc04891ff7b6142b7672a207ae74b1ac7efcb61cf28fa27d4a0a3daf68aaecf"><div class="ttname"><a href="group__m__event.html#gga72bc04891ff7b6142b7672a207ae74b1ac7efcb61cf28fa27d4a0a3daf68aaecf">M_EVENT_FLAG_NONE</a></div><div class="ttdeci">@ M_EVENT_FLAG_NONE</div><div class="ttdef"><b>Definition:</b> m_event.h:232</div></div>
<div class="ttc" id="agroup__m__fmt_html_gae54b252ea2bcf34b09ef1fa0f134ffa8"><div class="ttname"><a href="group__m__fmt.html#gae54b252ea2bcf34b09ef1fa0f134ffa8">M_printf</a></div><div class="ttdeci">ssize_t M_printf(const char *fmt,...)</div></div>
<div class="ttc" id="agroup__m__hash__dict_html_ga01ab9873e5c24644b27b099a032bea00"><div class="ttname"><a href="group__m__hash__dict.html#ga01ab9873e5c24644b27b099a032bea00">M_hash_dict_t</a></div><div class="ttdeci">struct M_hash_dict M_hash_dict_t</div><div class="ttdef"><b>Definition:</b> m_hash_dict.h:52</div></div>
<div class="ttc" id="agroup__m__hash__dict_html_ga12154e881606ff70c01fa38b443602f2"><div class="ttname"><a href="group__m__hash__dict.html#ga12154e881606ff70c01fa38b443602f2">M_hash_dict_enumerate_free</a></div><div class="ttdeci">void M_hash_dict_enumerate_free(M_hash_dict_enum_t *hashenum)</div></div>
<div class="ttc" id="agroup__m__hash__dict_html_ga6ac0a0649bc07e3c7f2754a66abe4a58"><div class="ttname"><a href="group__m__hash__dict.html#ga6ac0a0649bc07e3c7f2754a66abe4a58">M_hash_dict_enumerate</a></div><div class="ttdeci">size_t M_hash_dict_enumerate(const M_hash_dict_t *h, M_hash_dict_enum_t **hashenum)</div></div>
<div class="ttc" id="agroup__m__hash__dict_html_ga8aa61ab5f78bccca6351ff26bc5029f3"><div class="ttname"><a href="group__m__hash__dict.html#ga8aa61ab5f78bccca6351ff26bc5029f3">M_hash_dict_enumerate_next</a></div><div class="ttdeci">M_bool M_hash_dict_enumerate_next(const M_hash_dict_t *h, M_hash_dict_enum_t *hashenum, const char **key, const char **value)</div></div>
<div class="ttc" id="agroup__m__hash__dict_html_gab143ed3e4427ecff40710f467a90ae3f"><div class="ttname"><a href="group__m__hash__dict.html#gab143ed3e4427ecff40710f467a90ae3f">M_hash_dict_enum_t</a></div><div class="ttdeci">struct M_hash_dict_enum M_hash_dict_enum_t</div><div class="ttdef"><b>Definition:</b> m_hash_dict.h:56</div></div>
<div class="ttc" id="agroup__m__hash__dict_html_gaedc49aa7e8f01d9d3358f6bb169c3894"><div class="ttname"><a href="group__m__hash__dict.html#gaedc49aa7e8f01d9d3358f6bb169c3894">M_hash_dict_destroy</a></div><div class="ttdeci">void M_hash_dict_destroy(M_hash_dict_t *h) M_FREE(1)</div></div>
<div class="ttc" id="agroup__m__http__simple__read_html_ga57dfa1f2e40cfc3fb56d5e4119c96133"><div class="ttname"><a href="group__m__http__simple__read.html#ga57dfa1f2e40cfc3fb56d5e4119c96133">M_http_simple_read_headers_dict</a></div><div class="ttdeci">M_hash_dict_t * M_http_simple_read_headers_dict(const M_http_simple_read_t *simple)</div></div>
<div class="ttc" id="agroup__m__http__simple__read_html_ga757f218d628a72b7cff87ae04f3e0014"><div class="ttname"><a href="group__m__http__simple__read.html#ga757f218d628a72b7cff87ae04f3e0014">M_http_simple_read_body</a></div><div class="ttdeci">const unsigned char * M_http_simple_read_body(const M_http_simple_read_t *simple, size_t *len)</div></div>
<div class="ttc" id="agroup__m__http__simple__read_html_ga87680370989eae646ad55d4f945f424d"><div class="ttname"><a href="group__m__http__simple__read.html#ga87680370989eae646ad55d4f945f424d">M_http_simple_read_reason_phrase</a></div><div class="ttdeci">const char * M_http_simple_read_reason_phrase(const M_http_simple_read_t *simple)</div></div>
<div class="ttc" id="agroup__m__http__simple__read_html_ga8bac178e94ce5b0230b6321a27282442"><div class="ttname"><a href="group__m__http__simple__read.html#ga8bac178e94ce5b0230b6321a27282442">M_http_simple_read_t</a></div><div class="ttdeci">struct M_http_simple_read M_http_simple_read_t</div><div class="ttdef"><b>Definition:</b> m_http.h:763</div></div>
<div class="ttc" id="agroup__m__http__simple__read_html_gaaeeb8386251cd3104be32fd36e6a747d"><div class="ttname"><a href="group__m__http__simple__read.html#gaaeeb8386251cd3104be32fd36e6a747d">M_http_simple_read_status_code</a></div><div class="ttdeci">M_uint32 M_http_simple_read_status_code(const M_http_simple_read_t *simple)</div></div>
<div class="ttc" id="agroup__m__http_html_ga47c67c1475c6cdaf99d2df70c4925e6f"><div class="ttname"><a href="group__m__http.html#ga47c67c1475c6cdaf99d2df70c4925e6f">M_http_errcode_to_str</a></div><div class="ttdeci">const char * M_http_errcode_to_str(M_http_error_t err)</div></div>
<div class="ttc" id="agroup__m__http_html_ga70262c0c0a6eb609fc7bd86797f7d4f4"><div class="ttname"><a href="group__m__http.html#ga70262c0c0a6eb609fc7bd86797f7d4f4">M_http_error_t</a></div><div class="ttdeci">M_http_error_t</div><div class="ttdef"><b>Definition:</b> m_http.h:84</div></div>
<div class="ttc" id="agroup__m__http_html_gga70262c0c0a6eb609fc7bd86797f7d4f4ac34d4a660bec76a92faa5f27edb11a53"><div class="ttname"><a href="group__m__http.html#gga70262c0c0a6eb609fc7bd86797f7d4f4ac34d4a660bec76a92faa5f27edb11a53">M_HTTP_ERROR_SUCCESS</a></div><div class="ttdeci">@ M_HTTP_ERROR_SUCCESS</div><div class="ttdef"><b>Definition:</b> m_http.h:85</div></div>
<div class="ttc" id="agroup__m__http_html_gga9009cf9cd2abe5ab4336584eebc7fceead3ed73c6a24aad12bb5fa2d02dd264e9"><div class="ttname"><a href="group__m__http.html#gga9009cf9cd2abe5ab4336584eebc7fceead3ed73c6a24aad12bb5fa2d02dd264e9">M_HTTP_METHOD_GET</a></div><div class="ttdeci">@ M_HTTP_METHOD_GET</div><div class="ttdef"><b>Definition:</b> m_http.h:139</div></div>
<div class="ttc" id="agroup__m__io__trace_html_ga3edd3da8777f275f6a3d9891650bbeda"><div class="ttname"><a href="group__m__io__trace.html#ga3edd3da8777f275f6a3d9891650bbeda">M_io_add_trace</a></div><div class="ttdeci">M_io_error_t M_io_add_trace(M_io_t *io, size_t *layer_id, M_io_trace_cb_t callback, void *cb_arg, M_io_trace_cb_dup_t cb_dup, M_io_trace_cb_free_t cb_free)</div></div>
<div class="ttc" id="agroup__m__io__trace_html_ga9de6468f493c8465ee53389d50c1dc87"><div class="ttname"><a href="group__m__io__trace.html#ga9de6468f493c8465ee53389d50c1dc87">M_io_trace_type_t</a></div><div class="ttdeci">enum M_io_trace_type M_io_trace_type_t</div><div class="ttdef"><b>Definition:</b> m_io_trace.h:54</div></div>
<div class="ttc" id="agroup__m__io__trace_html_gga906c49459ff07273bc2111733993ed69a08ed08ce37e683a12bf3a77dd62c468d"><div class="ttname"><a href="group__m__io__trace.html#gga906c49459ff07273bc2111733993ed69a08ed08ce37e683a12bf3a77dd62c468d">M_IO_TRACE_TYPE_READ</a></div><div class="ttdeci">@ M_IO_TRACE_TYPE_READ</div><div class="ttdef"><b>Definition:</b> m_io_trace.h:50</div></div>
<div class="ttc" id="agroup__m__io__trace_html_gga906c49459ff07273bc2111733993ed69a8156a9773735d37f3d4baf2446315f16"><div class="ttname"><a href="group__m__io__trace.html#gga906c49459ff07273bc2111733993ed69a8156a9773735d37f3d4baf2446315f16">M_IO_TRACE_TYPE_WRITE</a></div><div class="ttdeci">@ M_IO_TRACE_TYPE_WRITE</div><div class="ttdef"><b>Definition:</b> m_io_trace.h:51</div></div>
<div class="ttc" id="agroup__m__io__trace_html_gga906c49459ff07273bc2111733993ed69ad2563951fa1129d3df49ed762aa95298"><div class="ttname"><a href="group__m__io__trace.html#gga906c49459ff07273bc2111733993ed69ad2563951fa1129d3df49ed762aa95298">M_IO_TRACE_TYPE_EVENT</a></div><div class="ttdeci">@ M_IO_TRACE_TYPE_EVENT</div><div class="ttdef"><b>Definition:</b> m_io_trace.h:52</div></div>
<div class="ttc" id="agroup__m__io_html_ga845c131d8520206a2a7a9219d1bd1932"><div class="ttname"><a href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a></div><div class="ttdeci">struct M_io M_io_t</div><div class="ttdef"><b>Definition:</b> m_io.h:59</div></div>
<div class="ttc" id="agroup__m__mem_html_gac4b3c1d73d6efe2542f5e729b58a271d"><div class="ttname"><a href="group__m__mem.html#gac4b3c1d73d6efe2542f5e729b58a271d">M_free</a></div><div class="ttdeci">void M_free(void *ptr) M_FREE(1)</div></div>
<div class="ttc" id="agroup__m__net__common_html_gaa3294221a2148caa4239f649dd7962df"><div class="ttname"><a href="group__m__net__common.html#gaa3294221a2148caa4239f649dd7962df">M_net_error_t</a></div><div class="ttdeci">M_net_error_t</div><div class="ttdef"><b>Definition:</b> m_net.h:44</div></div>
<div class="ttc" id="agroup__m__net__common_html_gab235bdf1e3f78678f2548d001473bb7b"><div class="ttname"><a href="group__m__net__common.html#gab235bdf1e3f78678f2548d001473bb7b">M_net_errcode_to_str</a></div><div class="ttdeci">const char * M_net_errcode_to_str(M_net_error_t err)</div></div>
<div class="ttc" id="agroup__m__net__common_html_ggaa3294221a2148caa4239f649dd7962dfa5168d726e175f2aaa681774cd9365b01"><div class="ttname"><a href="group__m__net__common.html#ggaa3294221a2148caa4239f649dd7962dfa5168d726e175f2aaa681774cd9365b01">M_NET_ERROR_SUCCESS</a></div><div class="ttdeci">@ M_NET_ERROR_SUCCESS</div><div class="ttdef"><b>Definition:</b> m_net.h:45</div></div>
<div class="ttc" id="agroup__m__net__http__simple_html_ga09b0608211b8b26ac4d04545c47f340b"><div class="ttname"><a href="group__m__net__http__simple.html#ga09b0608211b8b26ac4d04545c47f340b">M_net_http_simple_send</a></div><div class="ttdeci">M_bool M_net_http_simple_send(M_net_http_simple_t *hs, const char *url, void *thunk) M_WARN_UNUSED_RESULT</div></div>
<div class="ttc" id="agroup__m__net__http__simple_html_ga108b8f6a295f48b218f6a1b134f92f30"><div class="ttname"><a href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a></div><div class="ttdeci">struct M_net_http_simple M_net_http_simple_t</div><div class="ttdef"><b>Definition:</b> m_net_http_simple.h:200</div></div>
<div class="ttc" id="agroup__m__net__http__simple_html_ga1b1abd4f77de3b1eeca6a49f2bfe2853"><div class="ttname"><a href="group__m__net__http__simple.html#ga1b1abd4f77de3b1eeca6a49f2bfe2853">M_net_http_simple_set_message</a></div><div class="ttdeci">void M_net_http_simple_set_message(M_net_http_simple_t *hs, M_http_method_t method, const char *user_agent, const char *content_type, const char *charset, const M_hash_dict_t *headers, const unsigned char *message, size_t message_len)</div></div>
<div class="ttc" id="agroup__m__net__http__simple_html_ga1caac0fac3c8147d03ebcf83af812561"><div class="ttname"><a href="group__m__net__http__simple.html#ga1caac0fac3c8147d03ebcf83af812561">M_net_http_simple_cancel</a></div><div class="ttdeci">void M_net_http_simple_cancel(M_net_http_simple_t *hs)</div></div>
<div class="ttc" id="agroup__m__net__http__simple_html_ga2122b5ca91942787dd6e52d018498abb"><div class="ttname"><a href="group__m__net__http__simple.html#ga2122b5ca91942787dd6e52d018498abb">M_net_http_simple_set_tlsctx</a></div><div class="ttdeci">void M_net_http_simple_set_tlsctx(M_net_http_simple_t *hs, M_tls_clientctx_t *ctx)</div></div>
<div class="ttc" id="agroup__m__net__http__simple_html_ga4576ad793a8de7eeb98312fd3100f5a1"><div class="ttname"><a href="group__m__net__http__simple.html#ga4576ad793a8de7eeb98312fd3100f5a1">M_net_http_simple_set_timeouts</a></div><div class="ttdeci">void M_net_http_simple_set_timeouts(M_net_http_simple_t *hs, M_uint64 connect_ms, M_uint64 stall_ms, M_uint64 overall_ms)</div></div>
<div class="ttc" id="agroup__m__net__http__simple_html_gae9e369c4ba5ba633e56aaf1405168935"><div class="ttname"><a href="group__m__net__http__simple.html#gae9e369c4ba5ba633e56aaf1405168935">M_net_http_simple_set_iocreate</a></div><div class="ttdeci">void M_net_http_simple_set_iocreate(M_net_http_simple_t *hs, M_net_http_simple_iocreate_cb iocreate_cb)</div></div>
<div class="ttc" id="agroup__m__net__http__simple_html_gafa1b5004ed002c39ea4369688778aef4"><div class="ttname"><a href="group__m__net__http__simple.html#gafa1b5004ed002c39ea4369688778aef4">M_net_http_simple_create</a></div><div class="ttdeci">M_net_http_simple_t * M_net_http_simple_create(M_event_t *el, M_dns_t *dns, M_net_http_simple_done_cb done_cb)</div></div>
<div class="ttc" id="agroup__m__str__check_html_ga530dc6e198ebf9e5c30bc7a28ea4567d"><div class="ttname"><a href="group__m__str__check.html#ga530dc6e198ebf9e5c30bc7a28ea4567d">M_str_isempty</a></div><div class="ttdeci">M_bool M_str_isempty(const char *s) M_WARN_UNUSED_RESULT</div></div>
<div class="ttc" id="agroup__m__str__convert_html_ga92578e5f93242d414f9042c3d23ac7cb"><div class="ttname"><a href="group__m__str__convert.html#ga92578e5f93242d414f9042c3d23ac7cb">M_str_hexdump</a></div><div class="ttdeci">char * M_str_hexdump(int flags, size_t bytes_per_line, const char *line_prefix, const unsigned char *data, size_t data_len)</div></div>
<div class="ttc" id="agroup__m__str__convert_html_gga91fbd8e7976f8f06d8f54048585159efaa95c86d2b7e0b61253c5f6b0c0e52c34"><div class="ttname"><a href="group__m__str__convert.html#gga91fbd8e7976f8f06d8f54048585159efaa95c86d2b7e0b61253c5f6b0c0e52c34">M_STR_HEXDUMP_NONE</a></div><div class="ttdeci">@ M_STR_HEXDUMP_NONE</div><div class="ttdef"><b>Definition:</b> m_str.h:1872</div></div>
<div class="ttc" id="agroup__m__str__dup_html_gad511c2fd84ceea2451b4c478de7d374a"><div class="ttname"><a href="group__m__str__dup.html#gad511c2fd84ceea2451b4c478de7d374a">M_strdup</a></div><div class="ttdeci">char * M_strdup(const char *s) M_WARN_UNUSED_RESULT M_MALLOC</div></div>
<div class="ttc" id="agroup__m__tls__funcs_html_ga08e14903c8aba305505e8eed3dbcb913"><div class="ttname"><a href="group__m__tls__funcs.html#ga08e14903c8aba305505e8eed3dbcb913">M_tls_clientctx_set_default_trust</a></div><div class="ttdeci">M_bool M_tls_clientctx_set_default_trust(M_tls_clientctx_t *ctx)</div></div>
<div class="ttc" id="agroup__m__tls__funcs_html_ga466b388617ba458ea935448b1fc94276"><div class="ttname"><a href="group__m__tls__funcs.html#ga466b388617ba458ea935448b1fc94276">M_tls_clientctx_create</a></div><div class="ttdeci">M_tls_clientctx_t * M_tls_clientctx_create(void)</div></div>
<div class="ttc" id="agroup__m__tls__funcs_html_ga926973c7a274988ccc7c65ca90cb8d6d"><div class="ttname"><a href="group__m__tls__funcs.html#ga926973c7a274988ccc7c65ca90cb8d6d">M_tls_clientctx_t</a></div><div class="ttdeci">struct M_tls_clientctx M_tls_clientctx_t</div><div class="ttdef"><b>Definition:</b> m_tls.h:45</div></div>
<div class="ttc" id="agroup__m__tls__funcs_html_gaf5ee2284fcaa5f91acf06f14db32c409"><div class="ttname"><a href="group__m__tls__funcs.html#gaf5ee2284fcaa5f91acf06f14db32c409">M_tls_clientctx_destroy</a></div><div class="ttdeci">void M_tls_clientctx_destroy(M_tls_clientctx_t *ctx)</div></div>
</div><!-- fragment --> <h2 class="groupheader">Typedef Documentation</h2>
<a id="ga108b8f6a295f48b218f6a1b134f92f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga108b8f6a295f48b218f6a1b134f92f30">&#9670;&nbsp;</a></span>M_net_http_simple_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct M_net_http_simple <a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2189f8d2a183deffac2a81a25dbde150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2189f8d2a183deffac2a81a25dbde150">&#9670;&nbsp;</a></span>M_net_http_simple_done_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* M_net_http_simple_done_cb) (<a class="el" href="group__m__net__common.html#gaa3294221a2148caa4239f649dd7962df">M_net_error_t</a> net_error, <a class="el" href="group__m__http.html#ga70262c0c0a6eb609fc7bd86797f7d4f4">M_http_error_t</a> http_error, const <a class="el" href="group__m__http__simple__read.html#ga8bac178e94ce5b0230b6321a27282442">M_http_simple_read_t</a> *simple, const char *error, void *thunk)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Done callback called when the request has completed.</p>
<p>Once this callback returns the M_net_http_simple_t object that called this callback is destroyed internally. All external references are thus invalidated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">net_error</td><td>Indicates where there was a network problem of some type or if the network operation succeeded. If set to anything other than M_NET_ERROR_SUCCESS http_error and simple should not be vaulted because HTTP data was never received and parsed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">http_error</td><td>Status of the HTTP response data parse. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">simple</td><td>The parsed HTTP data object. Will only be non-NULL when net_error is M_NET_ERROR_SUCCESS and http_error is M_HTTP_ERROR_SUCCESS. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error</td><td>Textual error message when either net_error or http_error indicate an error condition. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thunk</td><td>Thunk parameter provided to send call. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafacca588ac547fbab357302d1292e895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafacca588ac547fbab357302d1292e895">&#9670;&nbsp;</a></span>M_net_http_simple_iocreate_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef M_bool(* M_net_http_simple_iocreate_cb) (<a class="el" href="group__m__io.html#ga845c131d8520206a2a7a9219d1bd1932">M_io_t</a> *io, char *error, size_t errlen, void *thunk)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback to set additional I/O layers on the internal network request I/O object.</p>
<p>The primary use for this callback is to add tracing or bandwidth shaping. TLS should not be added here because it is handled internally.</p>
<p>Due to redirects multiple connection to multiple servers may need to be established. The callback may be called multiple times. Once for each I/O object created to establish a connection with a given server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">io</td><td>The base I/O object to add layers on top of. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error</td><td>Error buffer to set a textual error message when returning a failure response. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">errlen</td><td>Size of error buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thunk</td><td>Thunk parameter provided to send call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success. M_FALSE if setting up the I/O object failed and the operation should abort. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafa1b5004ed002c39ea4369688778aef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafa1b5004ed002c39ea4369688778aef4">&#9670;&nbsp;</a></span>M_net_http_simple_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a>* M_net_http_simple_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__event.html#ga747f0301bfcc6db3b51eaf07e2582350">M_event_t</a> *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__net__http__simple.html#ga2189f8d2a183deffac2a81a25dbde150">M_net_http_simple_done_cb</a>&#160;</td>
          <td class="paramname"><em>done_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an HTTP simple network object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">el</td><td>Event loop to operate on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dns</td><td>DNS object. Must be valid for the duration of this object's life. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">done_cb</td><td>Callback that's called on completion of the request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTTP network object on success. Otherwise NULL on error. </dd></dl>

</div>
</div>
<a id="ga1caac0fac3c8147d03ebcf83af812561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1caac0fac3c8147d03ebcf83af812561">&#9670;&nbsp;</a></span>M_net_http_simple_cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_net_http_simple_cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *&#160;</td>
          <td class="paramname"><em>hs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cancel the operation that's in progress.</p>
<p>The hs object is invalided by this call. The registered done callback will not be called.</p>
<p>Can be used to cancel an operation that has not yet been sent in order to destroy the hs object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hs</td><td>HTTP simple network object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4576ad793a8de7eeb98312fd3100f5a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4576ad793a8de7eeb98312fd3100f5a1">&#9670;&nbsp;</a></span>M_net_http_simple_set_timeouts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_net_http_simple_set_timeouts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *&#160;</td>
          <td class="paramname"><em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>connect_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>stall_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>overall_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set operation timeouts.</p>
<p>On timeout the operation will abort.</p>
<p>No timeouts are set by default. Set to 0 to disable a timeout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hs</td><td>HTTP simple network object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">connect_ms</td><td>Connect timeout in milliseconds. Will trigger when a connection has not been established within this time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stall_ms</td><td>Stall timeout in milliseconds. Will trigger when the time between read and write events has been exceeded. This helps prevent a server from causing a denial of service by sending 1 byte at a time with a large internal between each one. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">overall_ms</td><td>Overall time the operation can take in milliseconds. When exceeded the operation will abort. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac9f786d2e4199f1de959bc3551d4ee3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac9f786d2e4199f1de959bc3551d4ee3e">&#9670;&nbsp;</a></span>M_net_http_simple_set_max_redirects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_net_http_simple_set_max_redirects </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *&#160;</td>
          <td class="paramname"><em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the maximum number of allowed redirects</p>
<p>Default 16 redirects.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hs</td><td>HTTP simple network object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>Maximum number of redirects. 0 will disable redirects. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa821e52cb6c48fbf19cf333ce91360f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa821e52cb6c48fbf19cf333ce91360f7">&#9670;&nbsp;</a></span>M_net_http_simple_set_max_receive_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_net_http_simple_set_max_receive_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *&#160;</td>
          <td class="paramname"><em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set max receive data size</p>
<p>Default 50 MB.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hs</td><td>HTTP simple network object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>Maximum number of bytes that can be received. 0 will disable redirects. Use the value (1024*1024*50) bytes to set a 50 MB limit. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2122b5ca91942787dd6e52d018498abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2122b5ca91942787dd6e52d018498abb">&#9670;&nbsp;</a></span>M_net_http_simple_set_tlsctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_net_http_simple_set_tlsctx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *&#160;</td>
          <td class="paramname"><em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__tls__funcs.html#ga926973c7a274988ccc7c65ca90cb8d6d">M_tls_clientctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the TLS client context for use with HTTPS connections.</p>
<p>It is highly recommend a TLS client context be provided even if the initial connection address is not HTTPS. It is possible for a redirect to imitate a redirect upgrade to a TLS connection.</p>
<p>Even if the system is known to not support HTTPS it's possible it will be changed to require it in the future. Providing the client context will prevent connections from failing in the future due to this type of server side change.</p>
<p>The context is only applied when necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hs</td><td>HTTP simple network object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The TLS client context. The context does not have to persist after being set here. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae9e369c4ba5ba633e56aaf1405168935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9e369c4ba5ba633e56aaf1405168935">&#9670;&nbsp;</a></span>M_net_http_simple_set_iocreate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_net_http_simple_set_iocreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *&#160;</td>
          <td class="paramname"><em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__net__http__simple.html#gafacca588ac547fbab357302d1292e895">M_net_http_simple_iocreate_cb</a>&#160;</td>
          <td class="paramname"><em>iocreate_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the I/O create callback.</p>
<p>The callback is called when the hs object internally creates an I/O connection with a remote system.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hs</td><td>HTTP simple network object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iocreate_cb</td><td>I/O create callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1b1abd4f77de3b1eeca6a49f2bfe2853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b1abd4f77de3b1eeca6a49f2bfe2853">&#9670;&nbsp;</a></span>M_net_http_simple_set_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_net_http_simple_set_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *&#160;</td>
          <td class="paramname"><em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__http.html#ga9009cf9cd2abe5ab4336584eebc7fcee">M_http_method_t</a>&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>content_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>charset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__m__hash__dict.html#ga01ab9873e5c24644b27b099a032bea00">M_hash_dict_t</a> *&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>message_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set message data that should be sent with the request.</p>
<p>This is optional. If this function is not called M_net_http_simple_send will issue a GET with no data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hs</td><td>HTTP simple network object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">method</td><td>HTTP method. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_agent</td><td>User agent to identify the request using. Optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">content_type</td><td>Type of data being sent. Optional if no data is being sent. Or if set in headers. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">charset</td><td>Character set of data being sent. Only applies to textual data and should not be be set for binary. Optional depending on content type or if included in headers. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">headers</td><td>Additional headers to send with the request. Optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>The data to send. Optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">message_len</td><td>The length of the data. Required if message is not NULL otherwise should be 0. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga09b0608211b8b26ac4d04545c47f340b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga09b0608211b8b26ac4d04545c47f340b">&#9670;&nbsp;</a></span>M_net_http_simple_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_net_http_simple_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__net__http__simple.html#ga108b8f6a295f48b218f6a1b134f92f30">M_net_http_simple_t</a> *&#160;</td>
          <td class="paramname"><em>hs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>thunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start sending the request async.</p>
<p>On success, the <code>hs</code> object is freed internally once the send completes and the done callback is called. It <b>must</b> not be reused.</p>
<p>On failure of this call it can be called again if the error can be corrected. Otherwise if this fails M_net_http_simple_cancel needs to be called to cleanup the <code>hs</code> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hs</td><td>HTTP simple network object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">url</td><td>The <b>full</b> URL to send the request to. Must include <a href="http://">http://</a> or <a href="https://">https://</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thunk</td><td>Thunk parameter that will be passed to the done callback. If allocated, must <em>not</em> be freed before the done callback is called. Unless this function returns M_FALSE which prevents the done callback from running. For example, allocating a thunk and freeing in the done callback. Or freeing when this returns M_FALSE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE when successfully starting the send process. <code>hs</code> will be freed internally. Otherwise, M_FALSE if sending could not commence. Will not call the done callback when M_FALSE. If not attempting again, allocated memory needs to be freed. An allocated <code>thunk</code> should be freed if necessary (would have been freed in the done callback). M_net_http_simple_cancel should be called on the <code>hs</code> object </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 24 2022 16:57:22 for Mstdlib-1.18.0 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
