<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mstdlib-1.23.0: DNS Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mstdlib-1.23.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__m__dns.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DNS Functions<div class="ingroups"><a class="el" href="group__m__eventio.html">Event Based I/O Subsystem</a> &raquo; <a class="el" href="group__m__eventio__base.html">Base I/O subsystems</a> &raquo; <a class="el" href="group__m__io__net.html">Network I/O</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga6d7651186321b1cc222aa53bd0fa3d22"><td class="memItemLeft" align="right" valign="top">typedef struct M_dns&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a></td></tr>
<tr class="separator:ga6d7651186321b1cc222aa53bd0fa3d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95f13b514c8a9a48d216adfc497302ef"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__m__dns.html#ga4a226dc51fea51e00c34fab0488379bd">M_dns_happyeb_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#ga95f13b514c8a9a48d216adfc497302ef">M_dns_happyeb_status_t</a></td></tr>
<tr class="separator:ga95f13b514c8a9a48d216adfc497302ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac010b430ffd1848db4e9ab1a771c2942"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__m__dns.html#gafbd6525307b497ac18e911bd0f966e2e">M_dns_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#gac010b430ffd1848db4e9ab1a771c2942">M_dns_result_t</a></td></tr>
<tr class="separator:gac010b430ffd1848db4e9ab1a771c2942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31b12aaed217cb62c6eda462aca9a9d4"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#ga31b12aaed217cb62c6eda462aca9a9d4">M_dns_ghbn_callback_t</a>) (const <a class="el" href="group__m__list__str.html#ga6de38b5604cb0dee336dccb52b5ae077">M_list_str_t</a> *ipaddrs, void *cb_data, <a class="el" href="group__m__dns.html#gac010b430ffd1848db4e9ab1a771c2942">M_dns_result_t</a> result)</td></tr>
<tr class="separator:ga31b12aaed217cb62c6eda462aca9a9d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga4a226dc51fea51e00c34fab0488379bd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#ga4a226dc51fea51e00c34fab0488379bd">M_dns_happyeb_status</a> { <br />
&#160;&#160;<a class="el" href="group__m__dns.html#gga4a226dc51fea51e00c34fab0488379bda9c7e6fcf47ecbadbb10c1f69a6a38fb0">M_HAPPYEB_STATUS_GOOD</a> = 0
, <br />
&#160;&#160;<a class="el" href="group__m__dns.html#gga4a226dc51fea51e00c34fab0488379bda54be72d3006765bc9aaea1edb7dd88d5">M_HAPPYEB_STATUS_UNKNOWN</a> = 1
, <br />
&#160;&#160;<a class="el" href="group__m__dns.html#gga4a226dc51fea51e00c34fab0488379bda2308006063965e4633962b888bb8caee">M_HAPPYEB_STATUS_SLOW</a> = 2
, <br />
&#160;&#160;<a class="el" href="group__m__dns.html#gga4a226dc51fea51e00c34fab0488379bdaa26679fc1aab47ad400252501516aaa7">M_HAPPYEB_STATUS_BAD</a> = 3
<br />
 }</td></tr>
<tr class="separator:ga4a226dc51fea51e00c34fab0488379bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbd6525307b497ac18e911bd0f966e2e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#gafbd6525307b497ac18e911bd0f966e2e">M_dns_result</a> { <br />
&#160;&#160;<a class="el" href="group__m__dns.html#ggafbd6525307b497ac18e911bd0f966e2eaff0e56d2bfe22a0baf8eca49eef04799">M_DNS_RESULT_SUCCESS</a> = 0
, <br />
&#160;&#160;<a class="el" href="group__m__dns.html#ggafbd6525307b497ac18e911bd0f966e2ea032c566e390a820885adcceec68189b5">M_DNS_RESULT_SUCCESS_CACHE</a> = 1
, <br />
&#160;&#160;<a class="el" href="group__m__dns.html#ggafbd6525307b497ac18e911bd0f966e2ea7329ab3409738b3a57021f88978fc939">M_DNS_RESULT_SUCCESS_CACHE_EVICT</a> = 2
, <br />
&#160;&#160;<a class="el" href="group__m__dns.html#ggafbd6525307b497ac18e911bd0f966e2ea03b69b88ec543ff84bf8b9f1efdf2594">M_DNS_RESULT_SERVFAIL</a> = 3
, <br />
&#160;&#160;<a class="el" href="group__m__dns.html#ggafbd6525307b497ac18e911bd0f966e2ea9c9461b5df5758d9f3bce104f766d41b">M_DNS_RESULT_NOTFOUND</a> = 4
, <br />
&#160;&#160;<a class="el" href="group__m__dns.html#ggafbd6525307b497ac18e911bd0f966e2eace18ebdc0ad9b89c8033d233d1a9d0e8">M_DNS_RESULT_TIMEOUT</a> = 5
, <br />
&#160;&#160;<a class="el" href="group__m__dns.html#ggafbd6525307b497ac18e911bd0f966e2ea3f843b97da921b511ea9b8beb4499ba2">M_DNS_RESULT_INVALID</a> = 6
<br />
 }</td></tr>
<tr class="separator:gafbd6525307b497ac18e911bd0f966e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5175216540121322108fc571d5206ca7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#ga5175216540121322108fc571d5206ca7">M_dns_create</a> (<a class="el" href="group__m__event.html#ga747f0301bfcc6db3b51eaf07e2582350">M_event_t</a> *event)</td></tr>
<tr class="separator:ga5175216540121322108fc571d5206ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga242ac37ba5fc0ad26dae4cc53553092a"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#ga242ac37ba5fc0ad26dae4cc53553092a">M_dns_destroy</a> (<a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *dns)</td></tr>
<tr class="separator:ga242ac37ba5fc0ad26dae4cc53553092a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b9b5f19df59f01d63fe93a2beb2a284"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#ga0b9b5f19df59f01d63fe93a2beb2a284">M_dns_set_query_timeout</a> (<a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *dns, M_uint64 timeout_ms)</td></tr>
<tr class="separator:ga0b9b5f19df59f01d63fe93a2beb2a284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafcc97a2f0082f970393f66037f5a641f"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#gafcc97a2f0082f970393f66037f5a641f">M_dns_set_cache_timeout</a> (<a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *dns, M_uint64 max_timeout_s)</td></tr>
<tr class="separator:gafcc97a2f0082f970393f66037f5a641f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4846c6ed4ad6df654c72d04af4263750"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#ga4846c6ed4ad6df654c72d04af4263750">M_dns_gethostbyname</a> (<a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *dns, <a class="el" href="group__m__event.html#ga747f0301bfcc6db3b51eaf07e2582350">M_event_t</a> *event, const char *hostname, <a class="el" href="group__m__io__net.html#ga0d3c956e19a647267f818beb367de6bc">M_io_net_type_t</a> type, <a class="el" href="group__m__dns.html#ga31b12aaed217cb62c6eda462aca9a9d4">M_dns_ghbn_callback_t</a> callback, void *cb_data)</td></tr>
<tr class="separator:ga4846c6ed4ad6df654c72d04af4263750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3504b77e855fdb6b66eb5335da7113c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#ga3504b77e855fdb6b66eb5335da7113c5">M_dns_happyeyeballs_update</a> (<a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *dns, const char *ipaddr, <a class="el" href="group__m__dns.html#ga95f13b514c8a9a48d216adfc497302ef">M_dns_happyeb_status_t</a> status)</td></tr>
<tr class="separator:ga3504b77e855fdb6b66eb5335da7113c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b05bd47f1dc64decd126173775dc092"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#ga9b05bd47f1dc64decd126173775dc092">M_dns_pton</a> (int af, const char *src, void *dst)</td></tr>
<tr class="separator:ga9b05bd47f1dc64decd126173775dc092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad835c80ae43aa4fbff9950797f3fb8c0"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__m__dns.html#gad835c80ae43aa4fbff9950797f3fb8c0">M_dns_ntop</a> (int af, const void *src, char *addr, size_t addr_size)</td></tr>
<tr class="separator:gad835c80ae43aa4fbff9950797f3fb8c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>It's intended that a single global DNS object will be created to allow for caching. Aiding with caching, Happy eyeballs is used to aid in choosing the best server when DNS resolves multiple addresses. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga6d7651186321b1cc222aa53bd0fa3d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d7651186321b1cc222aa53bd0fa3d22">&#9670;&nbsp;</a></span>M_dns_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct M_dns <a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga95f13b514c8a9a48d216adfc497302ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95f13b514c8a9a48d216adfc497302ef">&#9670;&nbsp;</a></span>M_dns_happyeb_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__m__dns.html#ga4a226dc51fea51e00c34fab0488379bd">M_dns_happyeb_status</a> <a class="el" href="group__m__dns.html#ga95f13b514c8a9a48d216adfc497302ef">M_dns_happyeb_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gac010b430ffd1848db4e9ab1a771c2942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac010b430ffd1848db4e9ab1a771c2942">&#9670;&nbsp;</a></span>M_dns_result_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__m__dns.html#gafbd6525307b497ac18e911bd0f966e2e">M_dns_result</a> <a class="el" href="group__m__dns.html#gac010b430ffd1848db4e9ab1a771c2942">M_dns_result_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga31b12aaed217cb62c6eda462aca9a9d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31b12aaed217cb62c6eda462aca9a9d4">&#9670;&nbsp;</a></span>M_dns_ghbn_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* M_dns_ghbn_callback_t) (const <a class="el" href="group__m__list__str.html#ga6de38b5604cb0dee336dccb52b5ae077">M_list_str_t</a> *ipaddrs, void *cb_data, <a class="el" href="group__m__dns.html#gac010b430ffd1848db4e9ab1a771c2942">M_dns_result_t</a> result)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returned IP address list is cleaned up immediately after the callback returns, if persistence is needed, duplicate the list. The list is returned sorted in preference order:</p><ul>
<li>List starts as alternating between ipv6 and ipv4 addresses in the order returned from the DNS server, such as ipv6-1, ipv4-1, ipv6-2, ipv4-2 and so on.</li>
<li>List then is updated with the happyeyeballs RFC6555/8305 status for prior connection attempts.</li>
<li>Finally the list is sorted by happyeyeballs status as the primary sort comparison, followed by the original order as per server preference. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ipaddrs</td><td>Ip addresses resolved in string form, nor NULL if none </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_data</td><td>Callback data provided to <a class="el" href="group__m__dns.html#ga4846c6ed4ad6df654c72d04af4263750">M_dns_gethostbyname()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>Result code of DNS lookup </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga4a226dc51fea51e00c34fab0488379bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a226dc51fea51e00c34fab0488379bd">&#9670;&nbsp;</a></span>M_dns_happyeb_status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__dns.html#ga4a226dc51fea51e00c34fab0488379bd">M_dns_happyeb_status</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RFC 6555/8305 Happy Eyeballs status codes </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga4a226dc51fea51e00c34fab0488379bda9c7e6fcf47ecbadbb10c1f69a6a38fb0"></a>M_HAPPYEB_STATUS_GOOD&#160;</td><td class="fielddoc"><p>Successfully connected to server <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4a226dc51fea51e00c34fab0488379bda54be72d3006765bc9aaea1edb7dd88d5"></a>M_HAPPYEB_STATUS_UNKNOWN&#160;</td><td class="fielddoc"><p>Don't know, probably not attempted <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4a226dc51fea51e00c34fab0488379bda2308006063965e4633962b888bb8caee"></a>M_HAPPYEB_STATUS_SLOW&#160;</td><td class="fielddoc"><p>Don't know for sure its bad, but we started and a different connection finished first <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4a226dc51fea51e00c34fab0488379bdaa26679fc1aab47ad400252501516aaa7"></a>M_HAPPYEB_STATUS_BAD&#160;</td><td class="fielddoc"><p>Recieved a connection error <br  />
 </p>
</td></tr>
</table>

</div>
</div>
<a id="gafbd6525307b497ac18e911bd0f966e2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbd6525307b497ac18e911bd0f966e2e">&#9670;&nbsp;</a></span>M_dns_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__m__dns.html#gafbd6525307b497ac18e911bd0f966e2e">M_dns_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Result codes for DNS queries </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafbd6525307b497ac18e911bd0f966e2eaff0e56d2bfe22a0baf8eca49eef04799"></a>M_DNS_RESULT_SUCCESS&#160;</td><td class="fielddoc"><p>DNS result successful <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafbd6525307b497ac18e911bd0f966e2ea032c566e390a820885adcceec68189b5"></a>M_DNS_RESULT_SUCCESS_CACHE&#160;</td><td class="fielddoc"><p>DNS result successful, returned from cache </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafbd6525307b497ac18e911bd0f966e2ea7329ab3409738b3a57021f88978fc939"></a>M_DNS_RESULT_SUCCESS_CACHE_EVICT&#160;</td><td class="fielddoc"><p>DNS result successful, evicting old cache </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafbd6525307b497ac18e911bd0f966e2ea03b69b88ec543ff84bf8b9f1efdf2594"></a>M_DNS_RESULT_SERVFAIL&#160;</td><td class="fielddoc"><p>DNS server failure <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafbd6525307b497ac18e911bd0f966e2ea9c9461b5df5758d9f3bce104f766d41b"></a>M_DNS_RESULT_NOTFOUND&#160;</td><td class="fielddoc"><p>DNS server returned a Not Found error <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafbd6525307b497ac18e911bd0f966e2eace18ebdc0ad9b89c8033d233d1a9d0e8"></a>M_DNS_RESULT_TIMEOUT&#160;</td><td class="fielddoc"><p>Timeout resolving DNS name <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafbd6525307b497ac18e911bd0f966e2ea3f843b97da921b511ea9b8beb4499ba2"></a>M_DNS_RESULT_INVALID&#160;</td><td class="fielddoc"><p>Invalid use <br  />
 </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5175216540121322108fc571d5206ca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5175216540121322108fc571d5206ca7">&#9670;&nbsp;</a></span>M_dns_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a>* M_dns_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__event.html#ga747f0301bfcc6db3b51eaf07e2582350">M_event_t</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a DNS resolver handle.</p>
<p>This resolver handle is responsible for caching DNS results as well as tracking which associated IP addresses resulted in successful or failed connections for optimizing future connection attempts. This DNS handle will be passed into functions that require DNS resolution like <a class="el" href="group__m__io__net.html#ga9c11a4575c3389ee8d11b6f084e257bd">M_io_net_client_create()</a>.</p>
<p>It is recommended to create a single DNS resolver handle at startup and pass the same handle to all functions which need it, and destroy the handle at shutdown.</p>
<dl class="section return"><dt>Returns</dt><dd>Initialized DNS handle </dd></dl>

</div>
</div>
<a id="ga242ac37ba5fc0ad26dae4cc53553092a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga242ac37ba5fc0ad26dae4cc53553092a">&#9670;&nbsp;</a></span>M_dns_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_dns_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *&#160;</td>
          <td class="paramname"><em>dns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys the memory associated with a DNS handle. <br  />
</p>
<p>DNS uses reference counters, and will delay destruction until after last consumer is destroyed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dns</td><td>Handle initialized via <a class="el" href="group__m__dns.html#ga5175216540121322108fc571d5206ca7">M_dns_create()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE if handle is actively being used. </dd></dl>

</div>
</div>
<a id="ga0b9b5f19df59f01d63fe93a2beb2a284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b9b5f19df59f01d63fe93a2beb2a284">&#9670;&nbsp;</a></span>M_dns_set_query_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_dns_set_query_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the maximum query time before a timeout is returned.</p>
<p>In some cases, if a prior result is cached, the query may still return success rather than a timeout failure at the end of a timeout, but the result will be stale. If set to 0, will use the internal default of 5000ms (5s)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dns</td><td>Initialized DNS object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>Timeout specified in milliseconds. If provided as 0, will use the default of 5000ms (5s).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if set successfully, M_FALSE otherwise </dd></dl>

</div>
</div>
<a id="gafcc97a2f0082f970393f66037f5a641f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafcc97a2f0082f970393f66037f5a641f">&#9670;&nbsp;</a></span>M_dns_set_cache_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_dns_set_cache_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint64&#160;</td>
          <td class="paramname"><em>max_timeout_s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the maximum amount of time a DNS query can be cached for where results are served out of the cache rather than querying a remote DNS server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dns</td><td>Initialized DNS object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_timeout_s</td><td>Specify the maximum timeout of the cached results, even if no DNS server is reachable. Stale results can no longer be delivered after this timeframe and will result in DNS errors being returned. If 0 is specified, will use the default of 3600s (1 hr).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if set successfully, M_FALSE otherwise </dd></dl>

</div>
</div>
<a id="ga4846c6ed4ad6df654c72d04af4263750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4846c6ed4ad6df654c72d04af4263750">&#9670;&nbsp;</a></span>M_dns_gethostbyname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_dns_gethostbyname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__event.html#ga747f0301bfcc6db3b51eaf07e2582350">M_event_t</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__io__net.html#ga0d3c956e19a647267f818beb367de6bc">M_io_net_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__dns.html#ga31b12aaed217cb62c6eda462aca9a9d4">M_dns_ghbn_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Request to resolve a DNS hostname to one or more IP addresses. When the resolution is complete, the callback passed in will be called. This function may call the callback immediately if the DNS result is cached. Once the supplied callback is called, the query will be automatically cleaned up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dns</td><td>Handle to DNS pointer created with <a class="el" href="group__m__dns.html#ga5175216540121322108fc571d5206ca7">M_dns_create()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Optional. Event handle to use to deliver the result callback to. This is useful to ensure the result is enqueued to the same event loop as requested which may limit need for possible external locking. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hostname</td><td>Hostname to look up. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of lookup to perform (IPv4, IPv6, or both/any) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>Callback to call on completion </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_data</td><td>User data handle passed to callback on completion </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3504b77e855fdb6b66eb5335da7113c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3504b77e855fdb6b66eb5335da7113c5">&#9670;&nbsp;</a></span>M_dns_happyeyeballs_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M_dns_happyeyeballs_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__m__dns.html#ga6d7651186321b1cc222aa53bd0fa3d22">M_dns_t</a> *&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ipaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__m__dns.html#ga95f13b514c8a9a48d216adfc497302ef">M_dns_happyeb_status_t</a>&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Notify the DNS subsystem of any updates to connection status on a given IP address. This will cause future results of <a class="el" href="group__m__dns.html#ga4846c6ed4ad6df654c72d04af4263750">M_dns_gethostbyname()</a> to be sorted based on success or failure of past connections. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dns</td><td>Handle to DNS pointer created with <a class="el" href="group__m__dns.html#ga5175216540121322108fc571d5206ca7">M_dns_create()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ipaddr</td><td>String form of IP address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>Status of connection attempt. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9b05bd47f1dc64decd126173775dc092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b05bd47f1dc64decd126173775dc092">&#9670;&nbsp;</a></span>M_dns_pton()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_dns_pton </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>af</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert the string form ip address of the given address family to its binary form.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">af</td><td>Address family of AF_INET or AF_INET6 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>Null-terminated string represenation of IP address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>Buffer of adequate size to hold AF_INET (32bits) or AF_INET6 (128bits) result </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on conversion failure </dd></dl>

</div>
</div>
<a id="gad835c80ae43aa4fbff9950797f3fb8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad835c80ae43aa4fbff9950797f3fb8c0">&#9670;&nbsp;</a></span>M_dns_ntop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool M_dns_ntop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>af</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>addr_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert the binary form of ip address of the given address family to its string form. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">af</td><td>Address family of AF_INET or AF_INET6 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>Buffer containing binary representation of ip address. 32bits for AF_INET, 128bits for AF_INET6. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">addr</td><td>Destination buffer to write string represenation of ip address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr_size</td><td>Size of destination buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on conversion failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 5 2023 14:34:31 for Mstdlib-1.23.0 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
